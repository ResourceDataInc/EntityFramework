@inherits Microsoft.Data.Entity.Relational.Design.Templating.RazorReverseEngineeringBase
@using Microsoft.Data.Entity.Metadata
@using Microsoft.Data.Entity.Relational.Design.ReverseEngineering.Configuration
@using Microsoft.Data.Entity.Relational.Design.Extentions
@{
    string errorMessageAnnotation = Model.Helper.ErrorMessageAnnotation;
}@if (errorMessageAnnotation != null) {
@:// @errorMessageAnnotation
}
else {
@:using System;
@:using System.Collections.Generic;
@:using Microsoft.Data.Entity;
@:using Microsoft.Data.Entity.Metadata;
@:
@:namespace @Model.Namespace
@:{
@:    public partial class @Model.EntityType.Name.Replace("_", "")
@:    {
    @* dnxcore50 requires this be cast, similarly below *@
    @if ((int)(Model.Helper.NavPropInitializers.Count) > 0) {
@:        public @(Model.EntityType.Name.Replace("_", ""))()
@:        {
        @foreach (var navPropInitializer in Model.Helper.NavPropInitializers)
        {
@:            @navPropInitializer.NavigationPropertyName.Replace("_", "") = new HashSet<@navPropInitializer.PrincipalEntityTypeName.Replace("_", "")>();
        }
@:        }
@:
    }
    @foreach (var property in Model.Helper.OrderedEntityProperties)
    {
@:        public @Model.Generator.CSharpCodeGeneratorHelper.GetTypeName(property.ClrType) @((property as IProperty).PropertyName()) { get; set; }
    }
    @if ((int)(Model.Helper.NavigationProperties.Count) > 0)
    {
@:
        @foreach (NavigationPropertyConfiguration navProp in Model.Helper.NavigationProperties)
        {
            @if (navProp.ErrorAnnotation != null)
            {
@:        // @navProp.ErrorAnnotation
            }
            else
            {
@:        public virtual @navProp.Type.Replace("_", "") @navProp.Name.Replace("_", "") { get; set; }
            }
        }
    }
@:    }
@:}
}